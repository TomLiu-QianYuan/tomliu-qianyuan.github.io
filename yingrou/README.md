# AI 舒适器

## 需求总结
1. **功能对接**：对接所有按钮与JavaScript中的功能。
2. **背景音乐**：随机播放背景音乐。
3. **萤火虫效果**：在页面中添加萤火虫效果。
4. **语音识别**：支持语音输入。
5. **历史记录**：保存和加载聊天历史记录。
6. **封印功能**：保存当前对话并开始新的对话。
7. **AI API调用**：调用AI API获取回复。
8. **错误处理**：处理API调用失败的情况。
9. **网络检查**：检查网络连接状态。
10. **用户界面**：确保输入框和输出框没有荧光色的色块。

## 产品设计

### 页面结构
- **输入框**：用户输入消息的地方。
- **发送按钮**：发送用户消息。
- **聊天容器**：显示用户和AI的对话。
- **历史按钮**：显示历史记录面板。
- **历史面板**：加载和显示之前的对话。
- **麦克风按钮**：支持语音输入。
- **封印按钮**：保存当前对话并开始新的对话。

### 功能实现
- **背景音乐**：使用`Audio`对象随机播放背景音乐。
- **萤火虫效果**：使用CSS动画和JavaScript动态创建萤火虫效果。
- **语音识别**：使用`SpeechRecognition` API进行语音输入。
- **历史记录**：使用`localStorage`保存和加载聊天历史记录。
- **封印功能**：将当前对话保存到`localStorage`并开始新的对话。
- **AI API调用**：使用`fetch` API调用AI服务获取回复。
- **错误处理**：在API调用失败时显示友好的错误信息。
- **网络检查**：在发送消息前检查网络连接状态。
- **用户界面**：确保输入框和输出框没有荧光色的色块。
